plugins {
    id 'com.github.ben-manes.versions' version '0.20.0'
    id 'com.github.johnrengelman.shadow' version '2.0.4'
    id 'com.install4j.gradle' version '7.0.1'
    id 'net.ltgt.errorprone' version '0.0.15'
    id 'de.undercouch.download' version '3.4.3'
}

group = 'triplea'
description = 'Test utility library, generic test utilities useful for TripleA projects'

sourceCompatibility = 1.8
targetCompatibility = 1.8

tasks.withType(JavaCompile) {
    options.compilerArgs += [ '-Xlint:all', '-Xmaxwarns', '1000' ]
    
    // workaround for: https://github.com/google/error-prone/issues/780
    options.compilerArgs += [ '-Xep:ParameterName:OFF' ]
    
    options.incremental = true
    options.encoding = 'UTF-8'
}

compileTestJava {
    options.compilerArgs += [ '-Xep:ClassCanBeStatic:OFF' ]
}

dependencies {
    errorprone 'com.google.errorprone:error_prone_core:2.3.1'
    compileOnly 'org.projectlombok:lombok:1.18.0'

    compile "org.hamcrest:java-hamcrest:$hamcrestVersion"
}
