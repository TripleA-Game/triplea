CREATE TABLE ta_users (
    username character varying(40) NOT NULL PRIMARY KEY,
    password character varying(60) NOT NULL,
    email character varying(254) NOT NULL,
    joined timestamp with time zone,
    lastlogin timestamp with time zone,
    admin integer NOT NULL
);
ALTER TABLE ta_users owner TO postgres;

CREATE TABLE bad_words (
    word character varying(40) NOT NULL PRIMARY KEY
);
ALTER TABLE bad_words owner TO postgres;


CREATE TABLE banned_ips (
    ip character varying(40) NOT NULL PRIMARY KEY,
    ban_till timestamp with time zone
);
ALTER TABLE banned_ips owner TO postgres;


CREATE TABLE banned_macs (
    mac character varying(40) NOT NULL PRIMARY KEY,
    ban_till timestamp with time zone
);
ALTER TABLE banned_macs owner TO postgres;


CREATE TABLE banned_usernames (
    username character varying(40) NOT NULL PRIMARY KEY REFERENCES ta_users ON DELETE CASCADE ON UPDATE CASCADE,
    ban_till timestamp with time zone
);
ALTER TABLE banned_usernames owner TO postgres;


CREATE TABLE muted_ips (
    ip character varying(40) NOT NULL PRIMARY KEY,
    mute_till timestamp with time zone
);
ALTER TABLE muted_ips owner TO postgres;


CREATE TABLE muted_macs (
    mac character varying(40) NOT NULL PRIMARY KEY,
    mute_till timestamp with time zone
);
ALTER TABLE muted_macs owner TO postgres;


CREATE TABLE muted_usernames (
    username character varying(40) NOT NULL PRIMARY KEY REFERENCES ta_users ON DELETE CASCADE ON UPDATE CASCADE,
    mute_till timestamp with time zone
);
ALTER TABLE muted_usernames owner TO postgres;
